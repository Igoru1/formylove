<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para mi Princesita Hermosa</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300;1,400&family=Pinyon+Script&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --cream: #fdf6ee;
    --blush: #e8a4a4;
    --rose: #c4687a;
    --deep: #7a2d3e;
    --warm: #d4956a;
    --ink: #3a2028;
  }

  html, body {
    width: 100%; height: 100%;
    overflow: hidden;
  }

  body {
    background: #1a0a10;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Cormorant Garamond', serif;
    cursor: default;
    position: relative;
  }

  body::before {
    content: '';
    position: fixed; inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.08'/%3E%3C/svg%3E");
    opacity: 0.4;
    pointer-events: none;
    z-index: 0;
  }

  body::after {
    content: '';
    position: fixed; inset: 0;
    background: radial-gradient(ellipse 60% 60% at 50% 50%, rgba(196,104,122,0.18) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
  }

  /* ‚îÄ‚îÄ Particles ‚îÄ‚îÄ */
  .particle {
    position: fixed;
    top: -60px;
    opacity: 0;
    pointer-events: none;
    z-index: 1;
    animation: fall linear infinite;
    user-select: none;
  }

  @keyframes fall {
    0%   { transform: translateY(0) rotate(0deg); opacity: 0; }
    5%   { opacity: 1; }
    90%  { opacity: 0.7; }
    100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
  }

  /* ‚îÄ‚îÄ Scene ‚îÄ‚îÄ */
  #scene {
    position: relative;
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100vw;
    height: 100vh;
  }

  /* ‚îÄ‚îÄ Envelope wrap ‚îÄ‚îÄ */
  .envelope-wrap {
    position: relative;
    width: 340px;
    cursor: pointer;
    filter: drop-shadow(0 30px 60px rgba(0,0,0,0.6));
    transition: transform 0.3s ease;
  }
  .envelope-wrap:hover:not(.open) { transform: scale(1.02); }

  .envelope {
    position: relative;
    width: 340px;
    height: 220px;
    flex-shrink: 0;
  }

  .env-body {
    position: absolute;
    width: 100%; height: 100%;
    background: linear-gradient(160deg, #fdf0e6 0%, #f5d9c8 100%);
    border-radius: 4px 4px 12px 12px;
    box-shadow:
      inset 0 -3px 8px rgba(0,0,0,0.08),
      inset 0 1px 0 rgba(255,255,255,0.6);
  }

  .env-body::before {
    content: '';
    position: absolute; inset: 0;
    background:
      linear-gradient(135deg, transparent 49.5%, rgba(196,104,122,0.15) 49.5%, rgba(196,104,122,0.15) 50.5%, transparent 50.5%),
      linear-gradient(45deg,  transparent 49.5%, rgba(196,104,122,0.15) 49.5%, rgba(196,104,122,0.15) 50.5%, transparent 50.5%);
    border-radius: 0 0 12px 12px;
  }

  .env-bottom-left, .env-bottom-right {
    position: absolute;
    bottom: 0;
    width: 0; height: 0;
    border-bottom: 110px solid transparent;
  }
  .env-bottom-left {
    left: 0;
    border-left: 170px solid #f0cfc0;
    border-radius: 0 0 0 12px;
  }
  .env-bottom-right {
    right: 0;
    border-right: 170px solid #e8c0ae;
    border-radius: 0 0 12px 0;
  }

  .env-flap {
    position: absolute;
    top: 0; left: 0;
    width: 340px; height: 0;
    border-left: 170px solid transparent;
    border-right: 170px solid transparent;
    border-top: 130px solid #e8b8a8;
    transform-origin: top center;
    transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 3;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.15));
  }
  .env-flap::after {
    content: '';
    position: absolute;
    top: -130px; left: -170px;
    width: 340px; height: 130px;
    background: linear-gradient(180deg, #dba898 0%, #e8b8a8 100%);
    clip-path: polygon(0 0, 100% 0, 50% 100%);
  }

  .env-seal {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 44px; height: 44px;
    background: radial-gradient(circle, var(--rose), var(--deep));
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 1.4rem;
    box-shadow: 0 2px 12px rgba(122,45,62,0.5);
    z-index: 4;
    transition: opacity 0.3s ease 0.3s, transform 0.3s ease 0.3s;
  }

  /* ‚îÄ‚îÄ Open states ‚îÄ‚îÄ */
  .envelope-wrap.open .env-flap {
    transform: rotateX(180deg);
  }
  .envelope-wrap.open .env-seal {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0);
  }

  /* ‚îÄ‚îÄ Letter ‚Äî FLOATS above envelope ‚îÄ‚îÄ */
  .letter {
    position: fixed;
    left: 50%;
    /* Start hidden inside the envelope */
    top: 50%;
    transform: translateX(-50%, -40%) scale(0.9);
    width: 310px;
    /* Max height so it never goes off screen ‚Äî scrollable inside */
    max-height: 0;
    overflow: hidden;
    background: var(--cream);
    border-radius: 4px;
    z-index: 5;
    box-shadow: 0 8px 40px rgba(0,0,0,0.45), 0 2px 8px rgba(0,0,0,0.2);
    opacity: 0;
    pointer-events: none;
    transition:
      transform 1s cubic-bezier(0.34, 1.4, 0.64, 1) 0.45s,
      opacity   0.5s ease 0.65s,
      max-height 0s linear 0s;
  }

  .letter::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 6px;
    background: linear-gradient(90deg, var(--blush), var(--rose), var(--warm), var(--blush));
    border-radius: 4px 4px 0 0;
    z-index: 1;
  }

  /* Inner scroll container */
  .letter-scroll {
    max-height: 58vh;
    overflow-y: auto;
    padding: 32px 26px 24px;
    /* subtle scrollbar */
    scrollbar-width: thin;
    scrollbar-color: var(--blush) transparent;
  }
  .letter-scroll::-webkit-scrollbar { width: 4px; }
  .letter-scroll::-webkit-scrollbar-track { background: transparent; }
  .letter-scroll::-webkit-scrollbar-thumb { background: var(--blush); border-radius: 4px; }

  /* Ruled lines */
  .letter-lines {
    position: absolute;
    inset: 38px 0 0;
    background-image: repeating-linear-gradient(
      transparent 0px, transparent 27px,
      rgba(196,104,122,0.10) 27px, rgba(196,104,122,0.10) 28px
    );
    pointer-events: none;
  }

  /* Fade at bottom to hint scroll */
  .letter-fade {
    position: sticky;
    bottom: 0;
    left: 0; right: 0;
    height: 40px;
    background: linear-gradient(transparent, var(--cream));
    pointer-events: none;
    margin-top: -40px;
  }

  .envelope-wrap.open .letter {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
    max-height: 80vh;
    pointer-events: auto;
    transition:
      transform 1s cubic-bezier(0.34, 1.4, 0.64, 1) 0.45s,
      opacity   0.5s ease 0.65s,
      max-height 0s linear 0s;
  }

  .letter-header {
    font-family: 'Pinyon Script', cursive;
    font-size: 2.1rem;
    color: var(--rose);
    margin-bottom: 16px;
    line-height: 1.2;
    position: relative;
    z-index: 1;
  }

  .letter-body {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.02rem;
    font-weight: 300;
    line-height: 1.85;
    color: var(--ink);
    font-style: italic;
    position: relative;
    z-index: 1;
  }

  .letter-body p + p { margin-top: 13px; }

  .letter-footer {
    margin-top: 22px;
    font-family: 'Pinyon Script', cursive;
    font-size: 1.7rem;
    color: var(--deep);
    text-align: right;
    position: relative;
    z-index: 1;
  }

  /* ‚îÄ‚îÄ Scroll hint ‚îÄ‚îÄ */
  .scroll-hint {
    text-align: center;
    font-size: 0.7rem;
    letter-spacing: 0.12em;
    color: var(--blush);
    opacity: 0;
    padding-bottom: 4px;
    transition: opacity 0.5s ease 1.4s;
    font-style: italic;
    position: relative;
    z-index: 1;
  }
  .envelope-wrap.open .scroll-hint { opacity: 0.7; }

  /* ‚îÄ‚îÄ Hint ‚îÄ‚îÄ */
  .hint {
    position: fixed;
    bottom: 36px;
    left: 50%;
    transform: translateX(-50%);
    color: rgba(232,164,164,0.55);
    font-size: 0.82rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    font-family: 'Cormorant Garamond', serif;
    font-style: italic;
    animation: pulse 2.5s ease-in-out infinite;
    z-index: 20;
    transition: opacity 0.5s;
  }
  .hint.hidden { opacity: 0; pointer-events: none; }
  

  @keyframes pulse {
    0%, 100% { opacity: 0.4; }
    50%       { opacity: 1; }
  }

  /* ‚îÄ‚îÄ Burst ‚îÄ‚îÄ */
  .burst {
    position: fixed;
    pointer-events: none;
    z-index: 100;
    font-size: 1.5rem;
    animation: burst-anim 1s ease-out forwards;
  }
  @keyframes burst-anim {
    0%   { transform: translate(0,0) scale(0); opacity: 1; }
    100% { transform: translate(var(--dx), var(--dy)) scale(1.5); opacity: 0; }
  }
</style>
</head>
<body>

<div id="scene">
  <div class="envelope-wrap" id="envelope" onclick="openLetter()">

    <!-- Envelope -->
    <div class="envelope">
      <div class="env-body">
        <div class="env-bottom-left"></div>
        <div class="env-bottom-right"></div>
        <div class="env-flap"></div>
        <div class="env-seal">üíå</div>
      </div>
    </div>

    <!-- Letter floating above -->
    <div class="letter" id="letter">
      <div class="letter-lines"></div>
      <div class="letter-scroll">
        <div class="letter-header">Mi amor, Daira</div>
        <div class="letter-body">
          <p>S√© que tal vez no sepa qu√© cosas decir, pero quiero intentarlo, porque lo nuestro vale m√°s que cualquier enojo pasajero.</p>
          <p>Hemos terminado de una mala manera, con sentimientos sin expresar y palabras sin poder decir.</p>
          <p>Ya te extra√±o, me hace falta esa tranquilidad que sent√≠a cuando sab√≠a que estabas conmigo. Me di cuenta de que no eras solo mi novia, eras mi lugar seguro.</p>
          <p>No escribo esto para borrar lo que pas√≥, sino para hacerlo mejor. Quiero escucharte m√°s, entenderte m√°s y construir algo m√°s fuerte entre los dos. Porque si algo tengo claro es que lo nuestro no merece terminar por un enojo o por una pelea, merece crecer, madurar y continuar.</p>
          <p>No prometo ser perfecto, pero s√≠ prometo intentarlo de verdad, aprender de esto y cuidar lo que tenemos como se merece.</p>
          <p>As√≠ que hoy quiero preguntarte otra vez, con el mismo cari√±o ‚Äîo quiz√° con m√°s‚Äî que la primera vez:</p>
          <p>¬øQuieres volver a ser mi novia y seguir escribiendo esta historia conmigo?</p>
        </div>
        <div class="letter-footer">Con todo mi cari√±o, Albeiro üåπ</div>
        <div class="scroll-hint">¬∑ desliza para leer todo ¬∑</div>
      </div>
      <div class="letter-fade"></div>
    </div>

  </div>
</div>

<div class="hint" id="hint">‚ú¶ toca el sobre ‚ú¶</div>

<!-- <iframe data-testid="embed-iframe" style="margin: 18px 0; border-radius: 12px; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.25);" src="https://open.spotify.com/embed/track/6TBJkXHPhu3EsMk1bshwuI?utm_source=generator&theme=0" width="50%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe> -->

<script>
  // Falling particles
  const symbols = ['üå∏','üå∏','üå∏','üíó','üíó','üçÉ','üå∫','üíÆ','üå∑'];
  for (let i = 0; i < 30; i++) {
    const el = document.createElement('div');
    el.className = 'particle';
    el.textContent = symbols[Math.floor(Math.random() * symbols.length)];
    const size = 0.7 + Math.random() * 1.1;
    el.style.cssText = `
      left: ${Math.random() * 100}vw;
      font-size: ${size}rem;
      animation-duration: ${6 + Math.random() * 8}s;
      animation-delay: ${Math.random() * 10}s;
    `;
    document.body.appendChild(el);
  }

  // Open letter
  let opened = false;
  function openLetter() {
    if (opened) return;
    opened = true;

    document.getElementById('envelope').classList.add('open');
    document.getElementById('hint').classList.add('hidden');

    // Burst confetti
    const rect = document.querySelector('.env-seal').getBoundingClientRect();
    const cx = rect.left + rect.width / 2;
    const cy = rect.top + rect.height / 2;
    const burstSymbols = ['üíó','‚ú®','üå∏','üíñ','‚≠ê','üå∑'];
    for (let i = 0; i < 16; i++) {
      const b = document.createElement('div');
      b.className = 'burst';
      b.textContent = burstSymbols[Math.floor(Math.random() * burstSymbols.length)];
      const angle = (Math.PI * 2 * i) / 16;
      const dist = 60 + Math.random() * 90;
      b.style.cssText = `
        left:${cx}px; top:${cy}px;
        --dx:${Math.cos(angle)*dist}px;
        --dy:${Math.sin(angle)*dist}px;
        animation-delay:${Math.random()*0.2}s;
      `;
      document.body.appendChild(b);
      setTimeout(() => b.remove(), 1300);
    }

    // Intensify rain momentarily
    document.querySelectorAll('.particle').forEach(p => {
      p.style.animationDuration = `${2.5 + Math.random() * 2.5}s`;
    });
    setTimeout(() => {
      document.querySelectorAll('.particle').forEach(p => {
        p.style.animationDuration = `${6 + Math.random() * 8}s`;
      });
    }, 4000);
  }
</script>
</body>
</html>
